var r=this&&this.t||function(){var t=function(e,n){t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r))e[r]=n[r]};return t(e,n)};return function(e,n){if(typeof n!=="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();document.writeln("<h1>COMP284 Assignment2</h1>");document.writeln("<h2 id='round'></h2>");document.writeln("<h2 id='score'></h2>");document.writeln("<table>");var c=10;for(var e=0;e<c;e++){document.writeln("<tr>");for(var n=0;n<c;n++){document.writeln("<td onclick='addItem(this)'"+"id="+"r"+e+"c"+n+"></td>")}document.writeln("</tr>")}document.writeln("</table>");var t=true;var f;var o=[];var u=[];var v=[];var a=false;var d=0;var h=0;var i=0;document.getElementById("score").innerHTML="Hero Score: "+d+" Robots Score:"+h;document.getElementById("round").innerHTML="Round: "+i;function s(e){if(t){console.log(e.id);var n=prompt("Please enter a value in the following range: 0-9, o, h, k");
//console.log(typeof (val));
if(n==="h"){if(!a){document.getElementById(e.id).className="hero";f=new M(e.id)}else{alert("You can only have one hero!");
//console.log(theHero);
}}else if(n==="o"){document.getElementById(e.id).className="obstacle";u.push(new O(e.id))}else if(n==="k"){document.getElementById(e.id).className="killer";o.push(new R(e.id))}else if(parseInt(n)<10){document.getElementById(e.id).className="treasure";var r=new _(e.id);r.value=parseInt(n);v.push(r)}else if(n!==""){alert("Your input is invalid!")}}else{alert("You are not in the setup stage!")}}function l(){alert("Setup");m()}function m(){for(var e=0;e<c;e++){for(var n=0;n<c;n++){document.getElementById("r"+e+"c"+n).className=""}}u=[];o=[];t=true;f=null;a=false;d=0;h=0;i=0}function b(){if(f!==null){t=false;i=1;k()}else{alert("You must have one hero!")}}function k(){window.onkeypress=function(e){var n=e.key;
//console.log(key);
document.getElementById("round").innerHTML="Round: "+i;p(n)}}function p(e){i++;var n=f.o();var r=f.u();var t=f.i();var o;switch(e){case'w':o=[r-1,t];break;case'a':o=[r,t-1];break;case's':o=[r+1,t];break;case'd':o=[r,t+1];break;default:alert("This key is invalid!");break}if(o[0]>=0&&o[0]<c&&o[1]>=0&&o[1]<c){if(!w(o)){var u="r"+o[0]+"c"+o[1];var a=document.getElementById(u).className;if(a==="treasure"){v.forEach(function(e,n){if(e.o()===u){d+=e.l();console.log(d);document.getElementById("score").innerHTML="Hero Score: "+d+" Robots Score:"+h;v.splice(n,1)}});document.getElementById(u).className="hero";document.getElementById(n).className="";f.v(u)}else if(a==="killer"){document.getElementById(n).className="";g()}else{document.getElementById(u).className="hero";document.getElementById(n).className="";f.v(u)}}else{alert("You can't cross a obstacle!")}}else{alert("You can't cross the boundary!")}if(v.length===0){g()}S()}function w(e){var n="r"+e[0]+"c"+e[1];var r=document.getElementById(n).className;
//console.log(targetName);
return r==="obstacle";
//alert("There is obstacle!");
}function S(){o.forEach(function(e,n){console.log(e.o());var r=e.u();var t=e.i();var o=e.o();var u=f.u();var a=f.i();var c=f.o();if(Math.abs(r-u)<=1&&Math.abs(t-a)<=1){document.getElementById(o).className="";document.getElementById(c).className="killer";g()}else{var i=Y([r,t]);if(i!=="none"){document.getElementById(o).className="";document.getElementById(i).className="killer";e.v(i);v.forEach(function(e,n){if(e.o()===i){h+=e.l();v.splice(n,1);document.getElementById("score").innerHTML="Hero Score: "+d+" Robots Score:"+h}})}else{var s=y([r,t]);var l=Math.floor(Math.random()*s.length);console.log(l);document.getElementById(o).className="";document.getElementById(s[l]).className="killer";e.v(s[l])}}})}function Y(e){for(var n=e[0]===0?0:e[0]-1;n<=(e[0]===c-1?c-1:e[0]+1);n++){for(var r=e[1]===0?0:e[1]-1;r<=(e[1]===c-1?c-1:e[1]+1);r++){var t="r"+n+"c"+r;var o=document.getElementById(t).className;if(o==="treasure"){return t}}}return"none"}function y(e){var n=[];for(var r=e[0]===0?0:e[0]-1;r<=(e[0]===c-1?c-1:e[0]+1);r++){for(var t=e[1]===0?0:e[1]-1;t<=(e[1]===c-1?c-1:e[1]+1);t++){var o="r"+r+"c"+t;var u=document.getElementById(o).className;if(u!=="obstacle"&&u!=="killer"){n.push(o)}}}
//console.log(possiblePos);
return n}function g(){alert("Game is over!\nYour score is "+d.toString());m()}var I=/** @class */function(){function e(e){this.location=e}e.prototype.o=function(){return this.location};e.prototype.u=function(){return parseInt(this.location.charAt(1))};e.prototype.i=function(){return parseInt(this.location.charAt(3))};e.prototype.v=function(e){this.location=e};return e}();var M=/** @class */function(e){r(n,e);function n(){return e!==null&&e.apply(this,arguments)||this}return n}(I);var R=/** @class */function(e){r(n,e);function n(){return e!==null&&e.apply(this,arguments)||this}return n}(I);var O=/** @class */function(e){r(n,e);function n(){return e!==null&&e.apply(this,arguments)||this}return n}(I);var _=/** @class */function(e){r(n,e);function n(){return e!==null&&e.apply(this,arguments)||this}n.prototype.l=function(){return this.value};return n}(I);
//# sourceMappingURL=game.js.map